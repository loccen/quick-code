# VSCode 开发环境配置

本目录包含了速码网项目的VSCode开发环境配置文件，提供快速启动和调试功能。

## 📁 配置文件说明

### `launch.json` - 启动配置
提供了多种启动配置，可以通过 `Ctrl+Shift+P` → `Debug: Select and Start Debugging` 或点击侧边栏的"运行和调试"按钮来使用。

### `tasks.json` - 任务配置
定义了各种开发任务，可以通过 `Ctrl+Shift+P` → `Tasks: Run Task` 来执行。

### `settings.json` - 工作区设置
包含项目特定的VSCode设置。

## 🚀 快速启动指南

### 1. 启动前端开发服务器

#### 方式一：使用启动配置
1. 按 `F5` 或点击"运行和调试"
2. 选择以下配置之一：
   - `🚀 启动用户端前端开发服务器` - 启动用户端 (端口: 5173)
   - `🎛️ 启动管理后台前端开发服务器` - 启动管理后台 (端口: 3001)
   - `🌟 启动前端开发环境` - 同时启动两个前端项目

#### 方式二：使用任务
1. 按 `Ctrl+Shift+P`
2. 输入 `Tasks: Run Task`
3. 选择对应的任务

### 2. 运行端到端测试

#### 基础测试
- `🧪 运行用户端E2E测试` - 无头模式运行所有测试
- `🎭 运行用户端E2E测试 (UI模式)` - 打开Playwright UI界面
- `🔍 运行用户端E2E测试 (调试模式)` - 调试模式，可以逐步执行
- `👀 运行用户端E2E测试 (有头模式)` - 显示浏览器窗口运行测试
- `📊 查看E2E测试报告` - 查看测试结果报告

#### 推荐工作流程
1. 开发时使用 `🎭 UI模式` 进行交互式测试
2. 调试问题时使用 `🔍 调试模式`
3. CI/CD使用 `🧪 基础测试` 模式

### 3. 启动后端服务器
- `🔧 启动后端开发服务器` - 启动Spring Boot应用 (端口: 8080)

### 4. 完整开发环境
- `🚀 启动完整开发环境` - 使用脚本启动所有服务
- `🛑 停止开发环境` - 停止所有服务

## 🎯 常用快捷键

| 快捷键 | 功能 |
|--------|------|
| `F5` | 开始调试/运行 |
| `Ctrl+F5` | 运行而不调试 |
| `Shift+F5` | 停止调试 |
| `Ctrl+Shift+F5` | 重启调试 |
| `Ctrl+Shift+P` | 命令面板 |
| `Ctrl+Shift+\`` | 新建终端 |

## 📋 任务分组

### Frontend 组
- 前端开发服务器相关任务
- 自动在新面板中打开，便于查看日志

### Test 组  
- 测试相关任务
- 测试运行时会清空终端，便于查看结果

### Backend 组
- 后端服务相关任务
- 包含Java环境变量配置

### Development 组
- 完整开发环境管理
- 使用项目脚本进行统一管理

## 🔧 环境要求

### 前端开发
- Node.js 18+
- npm 或 yarn
- Chrome浏览器 (Playwright测试)

### 后端开发  
- Java 17
- Maven 3.6+
- MySQL 8.0
- Redis 7.0

### DevContainer
项目配置了DevContainer，推荐在容器环境中开发以确保环境一致性。

## 🐛 故障排除

### 端口冲突
如果遇到端口占用问题：
1. 检查是否有其他服务占用端口
2. 使用 `🛑 停止开发环境` 停止所有服务
3. 重新启动需要的服务

### 依赖问题
如果前端依赖有问题：
1. 运行 `🔄 重启前端开发服务器` 任务
2. 这会自动清理并重新安装依赖

### 测试失败
如果E2E测试失败：
1. 确保前端开发服务器正在运行
2. 检查浏览器是否正确安装
3. 使用 `🔍 调试模式` 逐步排查问题

## 📝 自定义配置

可以根据需要修改配置文件：
- 修改端口号
- 添加新的启动配置
- 调整任务参数
- 配置环境变量

## 🔗 相关文档

- [VSCode调试文档](https://code.visualstudio.com/docs/editor/debugging)
- [VSCode任务文档](https://code.visualstudio.com/docs/editor/tasks)
- [Playwright测试文档](https://playwright.dev/)
- [Vite开发服务器文档](https://vitejs.dev/guide/dev.html)
